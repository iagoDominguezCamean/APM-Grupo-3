# TravelMate

## Nombre grupo

Grupo 3

## Roles

**CEO** - Iago Domínguez Cameán  
**COO** - Diego Villodas Zapata  
**CTO** - Pablo Mariño Boga  
**CXO** - Dennimar Gil Ortega  

## Proyecto

### Caracteristicas de la aplicación Buscador de rutas

1. **Creación de rutas entre varios puntos:**
   - Permitir a los usuarios seleccionar múltiples puntos de partida y destino para crear una ruta personalizada.
   - Proporcionar opciones para ajustar la ruta según las preferencias, como una ruta panorámica para aquellos que disfrutan viajando en moto o en coche, maximizando la experiencia escénica y el disfrute del trayecto, u otras opciones basadas en la eficiencia económicas o ambiental.

2. **Recomendaciones de rutas turísticas en los puntos de destino:**
   - Ofrecer diversas opciones de rutas turísticas en los puntos de destino, adaptadas para recorrer a pie, en bicicleta o utilizando transporte público.
   - Ofrecer rutas temáticas basadas en deseos turísticos: arquitectura, arte callejero, naturaleza, ocio, etc.
   - Ofrecer rutas basadas en el número de días en el lugar de destino (facilitando la planificación diaria).
   - Proporcionar información detallada sobre la distancia, el tiempo estimado de viaje y los lugares destacados en cada ruta.

3. **Notificaciones de POI (puntos de interés) cercanos:**
   - Enviar notificaciones a los usuarios sobre puntos de interés cercanos a su ubicación durante el recorrido.
   - Permitir a los usuarios filtrar los tipos de puntos de interés que desean recibir notificaciones, como monumentos históricos, restaurantes, miradores, etc.

4. **Sugerencias para crear fotografías de POI:**
   - Proporcionar sugerencias creativas para tomar fotografías en puntos de interés, como ángulos interesantes, composiciones únicas, ubicaciones ideales, o momentos del día ideales para capturar la mejor imagen.
   - Incorporar ejemplos de fotografías tomadas por otros usuarios para inspirar a los viajeros.

5. **Realidad aumentada para orientarse en las rutas:**
   - Integrar funcionalidades de realidad aumentada para ayudar a los usuarios a orientarse en las rutas, mostrando indicaciones visuales sobre puntos de interés, direcciones y distancias.
   - Permitir a los usuarios ver información adicional sobre los lugares a través de la superposición de datos en tiempo real.

6. **Listas de reproducción que se ajustan a la duración del viaje:**
   - Generar listas de reproducción de música adaptadas a la duración estimada del viaje, en base a preferencias musicales.
   - Permitir a los usuarios crear listas de reproducción personalizadas o seleccionar listas curadas según el tipo de viaje o destino.

7. **Listas de reproducción que recomiendan artistas locales:**
   - Recomendar artistas locales y música regional para enriquecer la experiencia de viaje y apoyar a la escena musical local, o bien basada en el punto de destino.
   - Integración con redes sociales: Facilitar compartir las rutas planeadas y las experiencias de viaje en redes sociales, permitiendo a otros usuarios descubrir nuevas rutas y destinos.

8. **Función de guía de audio:**
   - Ofrecer guías de audio narrativas proporcionando información histórica, cultural y práctica sobre los lugares visitados.

9. **Mapas sin conexión:**
   - Permitir a los usuarios descargar mapas y rutas para su uso sin conexión a internet, facilitando la exploración de destinos remotos o la reducción de costes de roaming.

10. **Integración con redes sociales:**
    - Facilitar compartir las rutas planeadas y las experiencias de viaje en redes sociales, permitiendo a otros usuarios descubrir nuevas rutas y destinos.

## Target

Nuestro público objetivo abarca una amplia gama de personas que disfrutan de la experiencia de viajar, aprovechando la accesibilidad que existe en la actualidad para todos los presupuestos. Aun teniendo un objetivo de masas, en particular, **el público joven**, encontrará en nuestra aplicación una herramienta para mejorar su experiencia turística con propuestas interesantes que les permiten recibir sugerencias sobre lugares para tomar fotografías y compartirlas con sus seguidores en redes sociales.

Además, nuestra aplicación ofrece **rutas predefinidas** que brindan apoyo a personas con menos experiencia en este tipo de viajes, proporcionando una alternativa a las visitas guiadas convencionales, con la **libertad** que esto supone. También a nivel **económico** puede suponer una alternativa, ya que elimina la necesidad de contratar guías adicionales, lo que implica un ahorro significativo para los usuarios.

En el ámbito **cultural**, además de ofrecer **playlists personalizadas** adecuadas a la duración del viaje, también proporcionamos la oportunidad de descubrir y disfrutar de la música de **artistas locales**. Esto enriquece la experiencia al combinar funcionalidades que generalmente no se encuentran integradas en las aplicaciones de uso común, resultando especialmente atractivo para aquellos que desean sumergirse culturalmente en su lugar de destino.

Todo esto nos hace conscientes de que nuestra propuesta debe estar diseñada para satisfacer las necesidades de un **volumen notable de usuarios**, asegurando una experiencia de usuario fluida y satisfactoria para todos.

En resumen, buscamos a personas apasionadas por viajar y compartir sus experiencias, interesadas en hacer de cada viaje una experiencia completa y enriquecedora. Este **usuario ideal** valora tanto la exploración de nuevos lugares como la inmersión cultural en cada destino.

## Estudio de mercado

### Aplicaciones similares

**CityMaps2Go** :  
Dispone de mapas con/sin conexión y la propia aplicación te recomienda que mapas descargar. Solo los recomendará si haces el zoom suficiente en el mapa de la aplicación.  
   
<p align="center">
   <img src="assets/cm2go_mapas_sugeridos.jpg" alt="CityMaps2Go mapas recomendados" width="200"/>
</p>

Con la función **Descubrir** te muestra listas de POI en base a unos filtros predefinidos o filtros personalizados por el usuario.  
   
<p align="center">
   <img src="assets/cm2go_filtros.jpg" alt="CityMaps2Go filtros de puntos de interés" width="200"/>
</p>

Por ejemplo al seleccionar London sightseeing highlights, se nos muestran una serie de POI relacionados con ese filtro. Si seleccionamos una ciudad de la que aparecen arriba nos saldrán filtros como este. También es posible usar otro tipo de filtros como hoteles, restaurantes, etc.  

<p align="center">
   <img src="assets/cm2go_resultado_filtro.jpg" alt="CityMaps2Go resultado filtros de puntos de interés" width="200"/>
</p>

Al seleccionar uno  de los POI que se nos recomienda con los filtros se nos muestra una descripción de este e información adicional, como sitios para dormir cercanos y fotos populares de dicho lugar. Además de darnos una valoración numérica del POI.  

<p align="center">
   <img src="assets/cm2go_info_poi_1.jpg" alt="CityMaps2Go info punto de interés" width="200"/>
   <img src="assets/cm2go_info_poi_2.jpg" alt="CityMaps2Go info puntos de interés" width="200"/>
</p>

Estos POI los puedes añadir a una lista, las listas representan los viajes que hayas hecho y cada una tiene un nombre único para cada usuario. Una vez que añades un POI a una lista este aparecerá marcado en el mapa. Las listas se pueden editar, cambiar el color del icono de los POI en el mapa y su forma para diferenciar cada lista, también puedes cambiar el nombre de la lista.

<p align="center">
   <img src="assets/cm2go_mapa.jpg" alt="CityMaps2Go mapa con listas de puntos de interés" width="200"/>
</p>

**Maps.me** :  
Es la que más se acerca a nuestra idea, aunque solo funciona con mapas sin conexión. También te permite descargar los mapas si haces el suficiente zoom. Creas una lista de POI a los que quieres ir oredenados por ti y te genera una ruta en base al orden que hayas indicado. Genera la ruta más rapida andando, en coche, transporte público. 

<p align="center">
   <img src="assets/mapsme_buscar_poi.jpg" alt="CityMaps2Go filtros de puntos de interés" width="200"/>
   <img src="assets/mapsme_ruta_pois.jpg" alt="CityMaps2Go filtros de puntos de interés" width="200"/>
   <img src="assets/mapsme_ruta_pois_2.jpg" alt="CityMaps2Go filtros de puntos de interés" width="200"/>
</p>  

Como podemos ver también disponde de filtros predefinidos, pero no podemos crear los nuestros propios, a diferencia de la anterior.  

**Wikiloc** :  
Diseñada para entusiastas del senderismo, ciclismo, trail running. Puede realizar exploración, grabación y compartir de rutas, Descarga de mapas offline, proporciona información detallada de la ruta y creación de fotos.

<p align="center">
   <img src="assets/4-mapaWi.jpg" alt="CityMaps2Go filtros de puntos de interés" width="200"/>
   <img src="assets/5-mapaWi.jpg" alt="CityMaps2Go filtros de puntos de interés" width="200"/>
   <img src="assets/6-mapaWi.jpg" alt="CityMaps2Go filtros de puntos de interés" width="200"/>
   <img src="assets/7-mapaWi.jpg" alt="CityMaps2Go filtros de puntos de interés" width="200"/>
</p>  

**Here WeGo** :  
La aplicación permite a los usuarios planificar sus rutas, la capacidad de descargar mapas para usarlos sin conexión, proporciona información detallada sobre puntos de interés cercanos, como restaurantes, áreas de descanso, miradores y lugares históricos, alertas en tiempo real sobre el tráfico, las condiciones del camino y los peligros potenciales en la ruta.

<p align="center">
   <img src="assets/1-hereWeGo.jpg" alt="CityMaps2Go filtros de puntos de interés" width="200"/>
   <img src="assets/2-hereWeGo.jpg" alt="CityMaps2Go filtros de puntos de interés" width="200"/>
   <img src="assets/3-hereWeGo.jpg" alt="CityMaps2Go filtros de puntos de interés" width="200"/>
</p>  

### Conclusiones
Para diferenciarnos de la competencia ofrecemos opciones de personalización avanzadas para las preferencias del usuario. 

Basándonos en el estudio realizado anteriormente podemos dar ejemplo de cómo la capacidad de ajustar las notificaciones, las sugerencias de fotografías y las listas de reproducción según los gustos individuales. A su vez ofrecer rutas más precisas y eficientes entre varios puntos y que en cada ubicación, mostrar artistas locales, así como una navegación fluida y sin problemas con realidad aumentada.

Por consiguiente se mantendrá la aplicación actualizada con nuevas funciones, correcciones de errores y mejoras basadas en los comentarios de los usuarios. Para así tener un compromiso con la satisfacción del cliente a largo plazo, de esta forma se estaría fidelizando al cliente.  

## Diseño de la arquitectura de comunicaciones

Involucra el uso de múltiples APIs y servicios online que la aplicación consume como cliente.

- **Google Places, Routes y Maps APIs**: APIs utilizadas para generar rutas, buscar lugares y visualizar mapas.

- **Spotify API**: Se utiliza para interactuar con Spotify y crear listas de reproducción.

- **Google Sign-In API o Google OAuth 2.0**: Esta API se utiliza para gestionar la autenticación y autorización de los usuarios en la aplicación obteniendo información como Nombre completo, Dirección de correo electrónico, Foto de perfil e información de contactos.

- **Foursquare, Wikimedia Commons y OpenWeather APIs**: Estas APIs se utilizan para obtener información sobre los lugares por los que pasa la ruta. La aplicación envía solicitudes para obtener detalles sobre puntos de interés, imágenes de lugares y datos meteorológicos locales.

- **Sensores GPS y magnetómetro**: La aplicación utiliza los sensores del dispositivo (GPS y magnetómetro) para hacer el seguimiento de la ruta del usuario y proporcionar información precisa sobre la ubicación y la orientación.

- **Almacenamiento interno**: Se utiliza para almacenar fotografías y datos de la aplicación y configuraciones de manera local en el dispositivo del usuario.

- **Compartir**: Este módulo permite a los usuarios compartir sus rutas, listas de reproducción u otra información generada por la aplicación a través de plataformas de redes sociales, correo electrónico u otras aplicaciones instaladas en el dispositivo.

![Diagrama de comunicación](assets/comm_diag.png)

## Mockups

Desde la pantalla inicial se puede buscar por lugares destacados/filtros/rutas recomendadas o que el usuario busque manualmente. Podemos por un lado, crear rutas desde un punto origen y un punto destino, y por otro lado, directamente buscar destinos. En el segundo caso, seleccionaremos una de las rutas disponibles para ese destino.

Al seleccionar una ruta, los usuarios son dirigidos al mapa con la ruta ya cargada, donde tienen la opción de acceder a la vista en realidad aumentada o a una audioguía, según sus preferencias. Además, desde cualquier pantalla, pueden acceder rápidamente al mapa haciendo clic en el icono correspondiente.

Adicionalmente, ofrecemos la opción de explorar zonas donde la comunidad haya compartido fotografías de lugares de interés cercanos, permitiendo a los usuarios visualizar y disfrutar de estas imágenes.

<img src="assets/mockup.jpg" alt="Mockup" width="100%"/>

### Versión 1 Android Studio

<img src="assets/as_dvz.jpg" alt="Mockup - Diego" width="100%"/>

1. Home de la aplicación
2. Detalle de ruta
3. Detalle de punto de interés
4. Detalle de destino
5. Detalle de ruta iniciada
6. Crear ruta

## Componentes de la App

**¿Qué se pretende implementar como actividad?**

En nuestra aplicación, pretendemos implementar el inicio de sesión como una actividad principal, donde la función principal sea proporcionar al usuario una experiencia de autenticación segura y confiable basada en OAuth, mediante los elementos globales de la actividad.

**¿Qué se va a implementar como un servicio?**

Las llamadas interactivas a las APIs externas de Google Maps y Spotify se implementarán como servicios con el fin de garantizar que todas las funciones requeridas estén integradas y funcionando correctamente en diferentes dispositivos, a través de la lógica proporcionada por las APIs, de manera que sea transparente al diseño de la aplicación.

**¿Qué se va a implementar con Fragments?**

En nuestra aplicación, se implementarán los siguientes fragments: HomeFragment, UserFragment, MapFragment, SearchFragment y RouteFragment. Estos fragments ayudarán en la comunicación entre sí y con la actividad principal, para facilitar la navegabilidad entre pantallas.

**Cómo se lanzan los fragments y servicios**

El HomeFragment enlaza con: 
* SearchFragment
* UserFragment

El MapFragment enlaza con:
* GoogleMapsService
* SearchFragment
     * Spotify Service

El SearchFragment enlaza con:
* HomeFragment
* RouteFragment

**Tareas en segundo plano**  
El seguimiento con google maps y la actividad del mapa necesitarían estar ejecutandose en segundo plano.

Hace falta actualizar el MapFragment a MapActivity para poder interactuar con el mapa, no se ha encontrado como hacer que el fragment haga que se pueda interactuar con el mapa y revisar la navegación para poder acceder al RouteFragment.

**Geolocalización**

Se solicitan permisos de FINE_LOCATION y COARSE_LOCATION, ya que vamos a usar el mapa para guiar al usuario a todos los puntos de la ruta que quiere seguir, si sale y vuelve a entrar a la aplicación tenemos que poder seguir donde se quedó antes de salir. Se solicitarán cuando se intente abrir el **MapFragment**.

**Almacenamiento**

Nuestra aplicación utiliza [Auth0](https://auth0.com/) de Okta para la gestión de identidad y accesos. Este servicio da la opción al usuario de registrar un nuevo usuario o utilizar la identidad de la que dispone en otros servicios como Google, Facebook...

El funcionamiento es sencillo, la primera vez que el usuario accede a la aplicación se le solicita que inicie sesión utilizando alguna de las opciones disponibles. En cuanto finaliza el proceso correctamente la aplicación recibe un JWT (Java Web Token) que contiene los siguientes datos de usuario:

- id
- name
- email
- emailverified
- picture
- updatedAt
- expiresAt
  
Esta información se almacena localmente utilizando Shared Preferences. Para no solicitar el inicio de sesión mas veces de las necesarias comprobamos si el fichero de preferencias existe y no ha expirado antes de solicitar el inicio de sesión 


**Mejora de usabilidad y experiencia de usuario**

- Mejoras de usabilidad propuestas.
Tras discutirlo en grupo y solicitar feedback a usuarios, que no participan en el desarrollo del proyecto, hemos detectado los siguientes problemas:
   - Pantalla de inicio de sesión actua como una barrera para el usuario. Al ser la pantalla inicial de la navegación impide evaluar lo que ofrece la aplicación antes de realizar el registro o iniciar sesión. Hemos valorado que existe contenido que puede ser disfrutado sin necesidad de haber iniciado sesión y hemos movido la acción a la pestaña de usuario.
   - Mejoras en la legibilidad de los textos, hemos revisado los tamaños de los textos que podian resultar más dificiles de leer, en los grids de imagenes hemos añadido una recuadro de color bajo los textos para mejorar su legibilidad.
   - Revisión del tamaño de las areas clickables de los todos los botones, prestando especial atención a la zona de busqueda del apartado de rutas para darle mayor importancia.
   - Dado que asumimos, tras las pruebas realizadas, que el usuario va a utilizar un telefono movil en posición vertical con una sola mano. Hemos revisado el layout de todos los elementos para asegurarnos que resulte comodo para el usuario.

- Implementación de material design
  - En la sección de usuario se ha añadido la opción de cambiar de tema.
